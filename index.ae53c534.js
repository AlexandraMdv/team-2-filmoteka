function e(e,t){const n=document.querySelector(".cards-container");n&&(n.innerHTML="",e.forEach((e=>{const{title:o,poster_path:a,genre_ids:i,release_date:c}=e,s=a?`https://image.tmdb.org/t/p/w500${a}`:"",r=i.slice(0,2).map((e=>t[e])).join(", ")||"N/A",l=c?new Date(c).getFullYear():"N/A";n.innerHTML+=`\n      <div class="movie-card">\n        ${s?`<img src="${s}" alt="${o}" class="movie-poster">`:""}\n        <div class="movie-info">\n          <h3 class="movie-title">${o.toUpperCase()}</h3>\n          <p class="movie-meta">${r} | ${l}</p>\n        </div>\n      </div>\n    `})))}let t=1,n=20,o={};const a=document.getElementById("pagination");async function i(r){t=r;const l=await async function(e){try{const t=await fetch(((e=1)=>`https://api.themoviedb.org/3/trending/movie/day?api_key=918aba14d75940fa7e0d80373b9ee894&language=en-US&page=${e}`)(e));if(!t.ok)throw new Error("Failed to fetch movies");const o=await t.json();return n=Math.min(o.total_pages,20),o.results}catch(e){return console.error("Error fetching movies:",e),[]}}(r);e(l,o),function(){a.innerHTML="",c("left",t>1,(()=>i(t-1))),t>3&&(c("1",!0,(()=>i(1))),s());for(let e=Math.max(1,t-2);e<=Math.min(n,t+2);e++)c(e,e!==t,(()=>i(e)),e===t);t<n-2&&(s(),c(n,!0,(()=>i(n))));c("right",t<n,(()=>i(t+1)))}()}function c(e,t,n,o=!1){const i=document.createElement("button");if(i.textContent=e,i.className=o?"page-num active":"page-num",i.disabled=!t,"left"===e||"right"===e){const t=document.createElement("img");t.src="left"===e?"./images/icons.svg#icon-arrow-left":"./images/icons.svg#icon-arrow-right",t.alt="left"===e?"Previous":"Next",t.className="pagination-icon",i.appendChild(t)}else i.textContent=e,t&&i.addEventListener("click",n),a.appendChild(i)}function s(){const e=document.createElement("span");e.textContent="...",e.className="dots",a.appendChild(e)}document.addEventListener("DOMContentLoaded",(async()=>{await async function(){try{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=918aba14d75940fa7e0d80373b9ee894&language=en-US"),t=await e.json();o=Object.fromEntries(t.genres.map((e=>[e.id,e.name])))}catch(e){console.error("Error fetching genres:",e)}}(),i(1)}));const r=document.querySelector(".carousel-movies"),l=document.querySelector(".prev-btn"),d=document.querySelector(".next-btn");let m=[],g=0;function p(){const e=document.querySelector(".movie").offsetWidth,t=g*-e;r.style.transform=`translateX(${t}px)`}l.addEventListener("click",(()=>{g>0&&(g--,p())})),d.addEventListener("click",(()=>{const e=document.querySelector(".movie").offsetWidth;console.log(e);const t=r.offsetWidth;console.log(t);const n=Math.round((m.length*e-t)/e);console.log(n),g<n&&(g++,console.log(g),p())})),async function(){const e=await fetch("https://api.themoviedb.org/3/movie/popular?api_key=918aba14d75940fa7e0d80373b9ee894&language=en-US&page=1"),t=await e.json();m=t.results,r.innerHTML="",m.forEach((e=>{const t=document.createElement("div");t.classList.add("movie"),t.innerHTML=`\n      <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">\n      \n    `,r.appendChild(t)})),p()}();
//# sourceMappingURL=index.ae53c534.js.map
